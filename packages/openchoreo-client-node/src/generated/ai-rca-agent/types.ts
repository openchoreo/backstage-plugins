/**
 * This file was auto-generated by openapi-typescript.
 * Do not make direct changes to the file.
 */

export interface paths {
  '/chat': {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    get?: never;
    put?: never;
    /**
     * Chat about an RCA report
     * @description Conversational Q&A about an RCA report with streaming NDJSON response.
     *
     *     The agent can query observability data (logs, traces, metrics) to answer
     *     follow-up questions about the report.
     *
     *     **Streaming Response Format (NDJSON):**
     *     Each line is a JSON object with a `type` field indicating the event type.
     *     Events are streamed in order: `message_chunk`* → `tool_call`* → `actions`? → `done`
     */
    post: operations['chat'];
    delete?: never;
    options?: never;
    head?: never;
    patch?: never;
    trace?: never;
  };
}
export type webhooks = Record<string, never>;
export interface components {
  schemas: {
    ChatRequest: {
      /**
       * @description The ID of the RCA report to chat about
       * @example alert-789_1704067200
       */
      reportId: string;
      /**
       * @description Specific report version to fetch. If not provided, fetches the latest version.
       * @example 1
       */
      version?: number;
      /**
       * Format: uuid
       * @description The project UUID
       * @example 1c4e7a9b-3f6d-4e2a-8b5c-7d9f1e3a4c6b
       */
      projectUid: string;
      /**
       * Format: uuid
       * @description The environment UUID
       * @example 2f5a8c1e-7d9b-4e3f-6a4c-8e1f2d7a9b5c
       */
      environmentUid: string;
      /**
       * Format: uuid
       * @description The component UUID
       * @example 8a4c5e2f-9d3b-4a7e-b1f6-2c8d4e9f3a7b
       */
      componentUid?: string;
      /**
       * @description Chat message history
       * @example [
       *       {
       *         "role": "user",
       *         "content": "What caused the memory spike at 08:15?"
       *       },
       *       {
       *         "role": "assistant",
       *         "content": "The memory spike was caused by a memory leak in the connection pool."
       *       },
       *       {
       *         "role": "user",
       *         "content": "Can you show me the relevant logs?"
       *       }
       *     ]
       */
      messages: components['schemas']['ChatMessage'][];
    };
    ChatMessage: {
      /**
       * @description The role of the message sender
       * @example user
       * @enum {string}
       */
      role: 'user' | 'assistant';
      /**
       * @description The message content
       * @example What caused the database connection errors?
       */
      content: string;
    };
    /**
     * @description A streaming event. Events are sent as newline-delimited JSON (NDJSON).
     *     Use the `type` field to determine the event type.
     */
    StreamEvent:
      | components['schemas']['MessageChunkEvent']
      | components['schemas']['ToolCallEvent']
      | components['schemas']['ActionsEvent']
      | components['schemas']['DoneEvent']
      | components['schemas']['ErrorEvent'];
    /** @description A chunk of the streamed message content */
    MessageChunkEvent: {
      /**
       * @description Event type discriminator (enum property replaced by openapi-typescript)
       * @enum {string}
       */
      type: 'message_chunk';
      /**
       * @description A chunk of the streamed message content
       * @example Based on the logs,
       */
      content: string;
    };
    /** @description Indicates a tool is being called by the agent */
    ToolCallEvent: {
      /**
       * @description Event type discriminator (enum property replaced by openapi-typescript)
       * @enum {string}
       */
      type: 'tool_call';
      /**
       * @description Name of the tool being called
       * @example get_component_logs
       */
      tool: string;
      /**
       * @description JSON-encoded arguments for the tool call
       * @example {"componentUid": "8a4c5e2f-9d3b-4a7e-b1f6-2c8d4e9f3a7b", "startTime": "2025-01-10T08:00:00Z"}
       */
      args?: string;
    };
    /** @description Structured actions suggested by the agent for the UI to render (e.g., suggest amend, citations) */
    ActionsEvent: {
      /**
       * @description Event type discriminator (enum property replaced by openapi-typescript)
       * @enum {string}
       */
      type: 'actions';
      /**
       * @description Structured actions for the UI to render
       * @example [
       *       {
       *         "type": "suggest_amend",
       *         "reason": "Discovered additional root cause related to memory leak"
       *       }
       *     ]
       */
      actions: {
        [key: string]: unknown;
      }[];
    };
    /** @description Indicates the stream has completed successfully */
    DoneEvent: {
      /**
       * @description Event type discriminator (enum property replaced by openapi-typescript)
       * @enum {string}
       */
      type: 'done';
      /**
       * @description The complete response message
       * @example The database connection errors were caused by connection pool exhaustion.
       */
      message: string;
    };
    /** @description Indicates an error occurred during streaming */
    ErrorEvent: {
      /**
       * @description Event type discriminator (enum property replaced by openapi-typescript)
       * @enum {string}
       */
      type: 'error';
      /**
       * @description Error message describing what went wrong
       * @example Failed to fetch component logs: connection timeout
       */
      message: string;
    };
    ErrorResponse: {
      /**
       * @description Human-readable error message
       * @example Invalid request parameters
       */
      detail: string;
    };
  };
  responses: never;
  parameters: never;
  requestBodies: never;
  headers: never;
  pathItems: never;
}
export type $defs = Record<string, never>;
export interface operations {
  chat: {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    requestBody: {
      content: {
        'application/json': components['schemas']['ChatRequest'];
      };
    };
    responses: {
      /** @description Streaming NDJSON response with chat events */
      200: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/x-ndjson': components['schemas']['StreamEvent'];
        };
      };
      /** @description Bad request - invalid parameters */
      400: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Unauthorized - invalid or missing authentication */
      401: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Internal server error */
      500: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
    };
  };
}
